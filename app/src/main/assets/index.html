<html>
  <head>
    <style>
.my_text { font-family : monospace; }
    </style>
  </head>
  <body>


    <!--
      <hi>your coordinates.</hi>
      <button onclick="getLocation()">Try It</button>

      <p id="demo"></p>
      <br>
      <p id="demowatch"></p>
      <br>
      <br>
    -->
    <div class="my_text">

<!--
      <p> +_current latitude:         <span></span><br>
      -_initial latitude:         <span></span><br>
      =_________________:         <span></span></p>
      <p> +_current longitude:        <span></span><br>
      -_initial longitude:        <span></span><br>
      =__________________:        <span></span></p>
      <p> +_current altitude:         <span></span><br>
      -_initial altitude:         <span></span><br>
      =_________________:         <span></span></p>
      <p> +_current accuracy:         <span></span><br>
      -_initial accuracy:         <span></span><br>
      =_________________:         <span></span></p>
      <p> +_current altitudeAccuracy: <span></span><br>
      -_initial altitudeAccuracy: <span></span><br>
      =_________________________: <span></span></p>
      <p> +_current heading:          <span></span><br>
      -_initial heading:          <span></span><br>
      =________________:          <span></span></p>
      <p> +_current speed:            <span></span><br>
      -_initial speed:            <span></span><br>
      =______________:            <span></span></p>
      <p> +_current local time:       <span></span><br>
      -_initial local time:       <span></span><br>
      =___________________:       <span></span></p>
-->

      <p id="list"></p>
    </div>

    <script>

      getLocation();

      var watchID;
      function getLocation() {
              var coords = [
              'coords.latitude',
              'coords.longitude',
              'coords.accuracy' ,
              'coords.altitude' ,
              'coords.altitudeAccuracy' ,
              'coords.heading' ,
              'coords.speed' ,
              ];
              var timestamps = [ 'timestamp' ];
              var initTime;
              if (navigator.geolocation) {
                      navigator.geolocation.getCurrentPosition(showPosition, errorCallback);

                      watchID = navigator.geolocation.watchPosition(
                              function(position){
                                      //spans = document.querySelectorAll('p span');
                                      //spans[0].textContent = '\xa0' + position.coords.latitude.toFixed(7);
                                      //spans[3].textContent =  '\xa0' + position.coords.longitude;
                                      //spans[6].textContent =  '\xa0' + position.coords.altitude;
                                      //spans[9].textContent =  '\xa0' + position.coords.accuracy;
                                      //spans[12].textContent = '\xa0' +  position.coords.altitudeAccuracy;
                                      //spans[15].textContent = '\xa0' +  position.coords.heading;
                                      //spans[18].textContent = '\xa0' +  position.coords.speed;

                                      //now = new Date(position.timestamp);
                                      //spans[21].textContent = now.toLocaleTimeString();

                                      //len = spans[0].textContent.length;
                                      //lendiff = (spans[0].textContent - spans[1].textContent).toFixed(7).toString().length;
                                      ////spans[2].textContent = lendiff;
                                      //spans[2].textContent
                                      //  = ('\xa0\xa0\xa0' + (spans[0].textContent - spans[1].textContent).toFixed(7)).substring((-8+lendiff));

                                      //spans[5].textContent = (spans[3].textContent - spans[4].textContent).toFixed(7);
                                      //spans[8].textContent = (spans[6].textContent - spans[7].textContent).toFixed(7);
                                      //spans[11].textContent = (spans[9].textContent - spans[10].textContent).toFixed(7);
                                      //spans[14].textContent = (spans[12].textContent - spans[13].textContent).toFixed(7);
                                      //spans[17].textContent = (spans[15].textContent - spans[16].textContent).toFixed(7);
                                      //spans[20].textContent = (spans[18].textContent - spans[19].textContent).toFixed(7);

                                      //fullSeconds = Math.floor(now/1000.0) - Math.floor(initTime/1000.0);
                                      //var paddingZero = function(n) {
                                      //        return (n < 10) ? '\xa0' + n : n;
                                      //      };
                                      //hour = Math.floor(fullSeconds / 3600);
                                      //minute = Math.floor(fullSeconds % 3600 / 60);
                                      //second = Math.floor(fullSeconds % 60);
                                      //hour= paddingZero(hour);
                                      //minute= paddingZero(minute);
                                      //second = paddingZero(second);
                                      //spans[23].textContent =hour + ':' + minute + ':' + second;


                                      var list = document.getElementById('list');
                                      list.textContent = '';
                                      for(var i = 0, arraylen = coords.length; i < arraylen; i++) {
                                        var coord = coords[i];
                                        var p = document.createElement('p');

                                        if (eval('position.' + coord) == null) {continue;}

                                        var currentype = '+_current ' + coord;
                                        var currentvalue =  eval('position.' + coord).toFixed(7);
                                        makeText(currentype, currentvalue, p);

                                        var initialtype = '-_initial ' + coord;
                                        var initialvalue = initials[coord].toFixed(7);
                                        makeText(initialtype, initialvalue, p);

                                        var difftype = '=_(diff)__' + coord.replace(/./g, '_');
                                        var diffvalue = (currentvalue - initialvalue).toFixed(7);
                                        makeText(difftype, diffvalue, p);

                                        list.appendChild(p);

                                      }

                                      for(var i = 0, arraylen = timestamps.length; i < arraylen; i++) {
                                        var timestamp = timestamps[i];
                                        var p = document.createElement('p');

                                        var currentype = '+_current ' + timestamp;
                                        now = new Date(position.timestamp);
                                        var currentvalue =  now.toLocaleTimeString();
                                        makeText(currentype, currentvalue, p);

                                        var initialtype = '-_initial ' + timestamp;
                                        init = new Date(initials[timestamp]);
                                        var initialvalue = init.toLocaleTimeString();
                                        makeText(initialtype, initialvalue, p);

                                        fullSeconds = Math.floor(now/1000.0) - Math.floor(init/1000.0);
                                        //fullSeconds = Math.floor(now/1000.0) - Math.floor(initTime/1000.0);
                                        var paddingZero = function(n) {
                                                return (n < 10) ? '\xa0' + n : n;
                                              };
                                        hour = Math.floor(fullSeconds / 3600);
                                        minute = Math.floor(fullSeconds % 3600 / 60);
                                        second = Math.floor(fullSeconds % 60);
                                        hour= paddingZero(hour);
                                        minute= paddingZero(minute);
                                        second = paddingZero(second);
                                        var diffvalue =hour + ':' + minute + ':' + second;
                                        var difftype = '=_(diff)__' + timestamp.replace(/./g, '_');
                                        makeText(difftype, diffvalue, p);



                                        list.appendChild(p);

                                      }
                                      //var p = document.createElement('p');
                                      //now = new Date(position.timestamp);
                                      //var currenttext = now.toLocaleTimeString();
                                      //makeText('+_current local time: ', currenttext, p);

                                      ////var initialtext = initTime.toLocalTimeString();
                                      ////makeText('-_initial local time: ', initialtext, p);

                                      //list.appendChild(p);


                                      //fullSeconds = Math.floor(now/1000.0) - Math.floor(initTime/1000.0);
                                      var paddingZero = function(n) {
                                              return (n < 10) ? '\xa0' + n : n;
                                            };
                                      hour = Math.floor(fullSeconds / 3600);
                                      minute = Math.floor(fullSeconds % 3600 / 60);
                                      second = Math.floor(fullSeconds % 60);
                                      hour= paddingZero(hour);
                                      minute= paddingZero(minute);
                                      second = paddingZero(second);
                                      //spans[23].textContent =hour + ':' + minute + ':' + second;


                                    },null);
                    } else {
                            document.querySelector('p').textContent = "Geolocation is not supported by this browser.";
                          }
              var initials = {};
              function makeText(type, value, p) {
                  var dotpos = value.toString().indexOf('.');
                  var space = '\xa0';
                  var fixedvalue = space.repeat(4 - dotpos) + value;
                  var t = type + ': ' + fixedvalue;
                  var text = document.createTextNode(t);
                  p.appendChild(text);
                  p.appendChild(document.createElement("br"));
                  }
              function showPosition(position) {
                      //var coords = [ 'latitude', 'longitude' ];
                      for(var i = 0, arraylen = coords.length; i < arraylen; i++) {
                        var coord = coords[i];
                        initials[coords[i]] = eval('position.' + coord);
                      }
                      for(var i = 0, arraylen = timestamps.length; i < arraylen; i++) {
                        var timestamp = timestamps[i];
                        initials[timestamps[i]] = eval('position.' + timestamp);
                      }
                      //spans = document.querySelectorAll('p span');
                      //spans[1].textContent = '\xa0' + position.coords.latitude.toFixed(7);
                      //spans[4].textContent = '\xa0' + position.coords.longitude;
                      //spans[7].textContent = '\xa0' + position.coords.altitude;
                      //spans[10].textContent = '\xa0' +  position.coords.accuracy;
                      //spans[13].textContent = '\xa0' +  position.coords.altitudeAccuracy;
                      //spans[16].textContent = '\xa0' +  position.coords.heading;
                      //spans[19].textContent = '\xa0' +  position.coords.speed;

                      //initTime = new Date(position.timestamp);
                      //spans[22].textContent = initTime.toLocaleTimeString();

                      //latitude = document.querySelectorAll('#latitude span');
                      //latitude[1].textContent = '\xa0' + position.coords.latitude.toFixed(7);
                    }

              function errorCallback(error) {
                      var err_msg = "";
                      switch(error.code)
                      {
                              case 1:
                                err_msg = "PERMISSION_DENIED";
                                break;
                              case 2:
                                err_msg = "POSITION_UNAVAILABLE";
                                break;
                              case 3:
                                err_msg = "TIMEOUT";
                                break;
                            }
                      x.innerHTML = err_msg;
                    }

            }
    </script>
  </body>
</html>

